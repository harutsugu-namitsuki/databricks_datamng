# システム構成図に含めるべき要素一覧

この資料は、システム構成図（特に物理・ネットワーク観点）に**本来含めるべき要素**を網羅的にリストアップしたものです。

## 1. ネットワーク層

| 要素 | 説明 | 今回の設計での対応 |
|------|------|-------------------|
| **VPC** | 仮想プライベートネットワーク | ✅ 記載済み |
| **サブネット** | Public / Private の分離 | ✅ 記載済み |
| **CIDR** | IPアドレス範囲 | ✅ 記載済み |
| **ルートテーブル** | サブネットごとの経路制御 | ❌ 未記載（詳細設計で追加可能） |
| **インターネットゲートウェイ (IGW)** | VPCからインターネットへの出口 | ❌ 未記載（暗黙） |
| **NAT Gateway** | Private SubnetからのOutbound接続 | ✅ 移行後に記載 |
| **VPC Peering / PrivateLink** | 異なるVPC間の接続 | ❌ 移行前は不要、移行後で検討 |

## 2. セキュリティ層

| 要素 | 説明 | 今回の設計での対応 |
|------|------|-------------------|
| **Security Group** | インスタンスレベルのファイアウォール | ✅ 記載済み |
| **Network ACL** | サブネットレベルのファイアウォール | ❌ 未記載（詳細設計で追加可能） |
| **IAM Role / Policy** | AWSリソースへのアクセス権限 | ✅ 記載済み |
| **IAM User** | 外部からのアクセス用（Access Key） | ✅ 移行前に記載 |
| **Secrets Manager** | 認証情報の安全な管理 | ✅ 記載済み |
| **KMS** | 暗号化キーの管理 | ❌ 未記載（詳細設計で追加可能） |
| **WAF** | Webアプリケーションファイアウォール | ❌ 今回は不要 |

## 3. コンピュート層

| 要素 | 説明 | 今回の設計での対応 |
|------|------|-------------------|
| **EC2 / Databricks Compute** | 処理エンジン | ✅ 記載済み |
| **Lambda** | サーバーレス関数 | ❌ 今回は不要 |
| **ECS / EKS** | コンテナオーケストレーション | ❌ 今回は不要 |

## 4. データ層（ストレージ）

| 要素 | 説明 | 今回の設計での対応 |
|------|------|-------------------|
| **RDS** | リレーショナルデータベース | ✅ 記載済み |
| **S3** | オブジェクトストレージ | ✅ 記載済み |
| **Delta Lake形式** | S3上のデータフォーマット | ✅ 記載済み |
| **Redshift / Athena** | 分析用データウェアハウス | ❌ 今回は不要（Databricks使用） |
| **DynamoDB** | NoSQL | ❌ 今回は不要 |

## 5. 監視・運用層

| 要素 | 説明 | 今回の設計での対応 |
|------|------|-------------------|
| **CloudWatch** | ログ・メトリクス・アラート | ✅ 移行後に記載 |
| **SNS** | 通知（メール/Slack等） | ✅ 移行後に記載 |
| **CloudTrail** | API呼び出しの監査ログ | ❌ 未記載（詳細設計で追加可能） |
| **EventBridge** | イベント駆動のトリガー | ❌ 未記載 |

## 6. 外部連携層

| 要素 | 説明 | 今回の設計での対応 |
|------|------|-------------------|
| **Databricks Control Plane** | SaaSの管理コンソール | ✅ 記載済み |
| **外部API** | 他システムとの連携 | ❌ 今回は不要 |
| **VPN / Direct Connect** | オンプレミスとの接続 | ❌ 今回は不要 |

## 結論

今回の設計では、**学習用途として必要な主要要素は網羅**されています。
本番環境向けに追加すべき要素（ルートテーブル、NACL、KMS、CloudTrail など）は、詳細設計フェーズで検討します。
